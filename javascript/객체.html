<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>실습4_객체_답</title>

    <h1>실습4_객체</h1>
  
    <h3>문제 1</h3>
    <p>
        salaries 객체를 매개변수로 전달 받아 모든 월급을 합한 값을 구하고, 그 값을 반환해주는 sum 함수를 작성한다.
    </p>
    <script>
        let salaries = {
                김부장: 500,
                박차장: 400,
                정과장: 300,
                이대리: 200,
                한인턴: undefined
        };

        function sum (obj) {
            let sum = 0;
            for (let key in obj) {
                if(obj[key])
                    sum += obj[key];
            }
            return sum;
        }

        console.log('급여 합계 : ' + sum(salaries)); 
        
    </script>

    <h3>문제 2</h3>
    <p>
        배열에 저장 된 각 객체의 프로퍼티 age를 기준으로 
        내림차순 정렬해주는 함수 sortByAge(arr)를 작성하고 
        아래와 같은 형식으로 반복문 이용하여 출력한다.
    </p>
    <script>

        let teacher = { name: "우별림", age: 20 };
        let student = { name: "홍길동", age: 30 };
        let parent = { name: "어머니", age: 58 };
        let child = { name: "딸", age: 28 };

        let arr = [teacher, student, parent, child];

        function sortByAge(arr) {
            arr.sort((a, b) => b.age - a.age);
        }

        sortByAge(arr);

        // 아래와 같은 형식으로 반복문 출력
        // 어머니 58
        // 홍길동 30
        // 딸 28
        // 우별림 20
        for(let person of arr){
            console.log(person.name + " " + person.age);
        }
    </script>

    <h3>문제 3</h3>
    <p>
        users 배열에 담긴 객체들의 firstName과 lastName을 합쳐서
        id와 fullName(lastName+firstName)이라는 두개의 프로퍼티를 가지는 객체를 담은 새로운 배열을 반환해주는 함수를 작성한다.
    </p>
    <script>

        let user1 = { id : 1, firstName: "영희", lastName: "김"};
        let user2 = { id : 2, firstName: "철수", lastName: "이"};
        let user3 = { id : 3, firstName: "미애", lastName: "박"};

        let users = [ user1, user2, user3 ];
        // *** 화살표 함수 객체 반환 시 반드시 소괄호 사용 ***
        function makeFullName (userList) {
            /*
            let usersMapped = userList.map(user => (
                {   id: user.id,
                    fullName: user.lastName+user.firstName
                } )
            );
            */
            let usersMapped = userList.map(function(item, index, array) {
                return {
                    id : item.id,
                    fullName : item.lastName + item.firstName
                }
            });

            return usersMapped;
        }

        console.log(makeFullName(users));
    </script>

    <h3>문제 4</h3>
    <p>
        calculator 라는 객체에 아래와 같은 메소드를 정의하고 메소드 실행을 테스트 한다.<br>
        read 메소드 : 프롬프트 창을 띄우고 더할 값 두 개를 입력 받아 객체의 프로퍼티에 저장<br>
        sum 메소드 : 저장된 두 값의 합을 반환<br>
        multi 메소드 : 저장된 두 값의 곱을 반환<br>
    </p>
    <script>
            let calculator = {
                sum() {
                    return this.a + this.b;
                },

                multi() {
                    return this.a * this.b;
                },

                read() {
                    this.a = +prompt('첫 번째 값:', 0);
                    this.b = +prompt('두 번째 값:', 0);
                }
            };

    calculator.read();
    console.log("합 : " + calculator.sum());
    console.log("곱 : " + calculator.multi());
    </script>

    <h3>문제 5</h3>
    <p>
        Calculator라는 생성자 함수에 아래와 같은 메소드를 정의하고 해당 생성자를 통해 객체를 만들어 메소드 실행을 테스트 한다.<br>
        read 메소드 : 프롬프트 창을 띄우고 더할 값 두 개를 입력 받아 객체의 프로퍼티에 저장<br>
        sum 메소드 : 저장된 두 값의 합을 반환<br>
        multi 메소드 : 저장된 두 값의 곱을 반환<br>
    </p>
    <script>
        function Calculator() {

            this.read = function() {
                this.a = +prompt('첫 번째 값:', 0);
                this.b = +prompt('두 번째 값:', 0);
            };

            this.sum = function() {
                return this.a + this.b;
            };

            this.multi = function() {
                return this.a * this.b;
            };
        }

        let cal = new Calculator();
        cal.read();

        console.log("합 : " + cal.sum());
        console.log("곱 : " + cal.multi());
    </script>

</head>
<body>
    
</body>
</html>
